#!/usr/bin/env bash
# This script configures localhost and facebook.com name resolution on Ubuntu

HOSTS_FILE="/etc/hosts"

# Ensure script is run as root
if [ "$(id -u)" -ne 0 ]; then
  echo "This script must be run as root"
  exit 1
fi

# Remove existing localhost and facebook.com entries
sed -i '/[[:space:]]localhost$/d' "$HOSTS_FILE"
sed -i '/[[:space:]]facebook\.com$/d' "$HOSTS_FILE"

# Add required mappings
echo "127.0.0.2 localhost" >> "$HOSTS_FILE"
echo "8.8.8.8 facebook.com" >> "$HOSTS_FILE"
